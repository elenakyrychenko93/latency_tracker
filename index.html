<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Trembit - Red5Pro delay Test</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="styles.css">
    <script src="https://webrtchacks.github.io/adapter/adapter-latest.js"></script>
    <script src="https://app.singular.live/libs/singularoverlay/0.1.0/singularoverlay.js"></script>

</head>
<body>
<div class="header">
    <div class="header_container">
        <img id="red5pro-logo" height="50px" src="images/Red5Pro_SME.png" alt="red5pro_logo">
        <img height="50px" src="images/logo_trembit.png" alt="trembit_logo">
        <img height="50px" src="images/CDNetworks_SME.png" alt="trembit_logo">
    </div>
</div>
<div id="container" class="container">
<div class="actions-block">
    <div class="toggle-block">
        <div>
            <h3>Video quality</h3>
            <select name="quality" id="quality" onchange="chooseQuality()">
                <option value="256">256 kbps</option>
                <option value="512" selected>512 kbps</option>
                <option value="1024">1024 kbps</option>
                <option value="2048">2048 kbps</option>
            </select>
        </div>

        <div>
            <h3>Video resolution</h3>
            <select name="size" id="size" onchange="chooseVideoSize()">
                <option value="320">320 x 240</option>
                <option value="640" selected>640 x 480</option>
                <option value="1280">1280 x 720</option>
                <option value="1920">1920 x 1080</option>
            </select>
        </div>
    </div>
    <button type="button" onclick="recognizeScreen()">calculate delay</button>
</div>


    <div id="delay-time" class="delay-time">
        <span>Latency:</span>
        <span id="delay">0</span>
    </div>

    <div id="error" class="error"></div>

    <div class="lds-ellipsis" id="spinner">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
    </div>

    <div id="main" class="main">
        <div class="publisher">
            <!--<div id="timer" class="clock">0</div>-->
            <video id="publisher" crossorigin="anonymous" class="" autoplay muted></video>
        </div>
        <div class="subscriber">
            <!--<div id="SingularOverlay"></div>-->
            <video id="subscriber" crossorigin="anonymous" class="" autoplay muted></video>
        </div>
    </div>
    <div class="places">
        <div id="publish-place" class="publish-place">New York</div>
        <select name="server" id="server" onchange="chooseServer()">
            <option value="//cdnetworks-paris.red5.org" selected>Paris</option>
            <option value="//cdnetworks-la.red5.org">Los Angeles</option>
        </select>
    </div>
</div>

<script type="text/javascript" src='https://cdn.jsdelivr.net/gh/naptha/tesseract.js@v1.0.14/dist/tesseract.min.js'></script>
<script type="text/javascript" src="scripts/main.js"></script>
<script type="text/javascript" src="https://geoip-db.com/json/geoip.php?jsonp=getCity"></script>
<script async type="text/javascript" src="scripts/red5pro-sdk.min.js"></script>
</body>
</html>
